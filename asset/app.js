let a=[
    
  {
    question: "Kaka là cầu thủ Brazil thứ mấy vô địch World Cup, Champions League và giành Quả bóng Vàng",
    A: "1",
    B: "2",
    C: "3",
    D: "4",
    correct: "C",
  },
  {
    question: "Giải bóng đá nào khắc nghiệt nhất hành tinh",
    A: "Premier League",
    B: "busdesliga",
    C: "Ligue 1",
    D: "Busdesliga",
    correct: "A",
  },
  {
    question: "Ở vòng bán kết Champions League 2006-2007, Kaka ghi mấy bàn vào lưới Man Utd qua hai lượt trận",
    A: "1",
    B: "4",
    C: "2",
    D: "3",
    correct: "D",
  },
  {
    question: "Luis Díaz cầu thủ của Liverpool là người nước nào",
    A: "Pháp",
    B: "Colombia",
    C: "Argentina",
    D: "Bỉ",
    correct: "B",
  },
  {
    question: "World Cup 2026 có bao nhiêu nước đăng cai  ",
    A: "1",
    B: "2",
    C: "3",
    D: "4",
    correct: "C",
  },
  {
    question: "Nguyễn Công Phượng thuộc biên chế của đội bóng nào",
    A: "Hoàng Anh Gia Lai",
    B: "Sông Lam Nghê An",
    C: "Barcelona",
    D: "MU",
    correct: "A",
  },
  {
    question: "HLV nào dưới đây người Đức",
    A: "Pep Guardiola",
    B: "Mourinho",
    C: "Jürgen Klopp",
    D: "Diego Simeone",
    correct: "C",
  },
]
let b=[
{
    question: "Con đường Hạnh Phúc nổi tiếng như dải lụa uốn lượn quanh những vách núi sừng sững nằm ở tỉnh nào",
    A: "Bắc Ninh",
    B: "Yên Bái",
    C: "Lào Cai",
    D: "Hà Giang",
    correct: "D",
  },
  {
    question: "Hồ nước ngọt rộng nhất Đà Lạt",
    A: "Hồ Than Thở",
    B: "Hồ Tây",
    C: "Hồ Tuyền Lâm",
    D: "Hồ Dầu Tiếng",
    correct: "C",
  },
  {
    question: "Vịnh Hạ Long thuộc tỉnh nào",
    A: "Ninh Bình",
    B: "Bắc Ninh",
    C: "Quảng Ninh",
    D: "Nam Định",
    correct: "C",
  },
  {
    question: "Vạn Lý Trường Thành thuộc quốc gia nào",
    A: "Hà Lan",
    B: "Singapho",
    C: "Trung Quốc",
    D: "Mỹ",
    correct: "C",
  },
  {
    question: "Thụy Sĩ thuộc khu vực nào",
    A: "Châu Âu",
    B: "Châu Phi",
    C: "Châu Á",
    D: "Châu Mỹ",
    correct: "A",
  },
  {
    question: "Đảo Bali thuộc quốc gia nào",
    A: "Dubai",
    B: "Pháp",
    C: "Indonesia",
    D: "Tây Ban Nha",
    correct: "C",
  },
  {
    question: "LonDon là thủ đô của quốc gia nào",
    A: "Pháp",
    B: "Colombia",
    C: "Argentina",
    D: "Anh",
    correct: "D",
  },
  {
    question: "Ngôi chùa nào lớn nhất Việt Nam",
    A: "Đền Đô",
    B: "Chùa Thầy",
    C: "Bái Đính",
    D: "Yên Tử",
    correct: "C",
  },
  {
    question: "Bắc Ninh có danh lam nào dưới đây",
    A: "Đền Đô",
    B: "Chùa Thầy",
    C: "Bái Đính",
    D: "Yên Tử",
    correct: "A",
  },
  {
    question: "Những danh lam nào dưới đây thuộc sở hữu của Pháp",
    A: "Đảo Bali",
    B: "Tháp Eiffel",
    C: "Tháp Big Ben",
    D: "Đấu trường La Mã",
    correct: "B",
  },
]
let c=[
{
    question: "It's said that he has ______ friends of his age.",
    A: "few",
    B: "plenty",
    C: "a little",
    D: "little",
    correct: "A",
  },
  {
    question: "The students ______ to be at school at 3 p.m.",
    A: "told",
    B: "have told",
    C: "were told",
    D: "tell",
    correct: "C",
  },
  {
    question: "Hebought all the books ______ are needed for the English course.",
    A: "that",
    B: "who",
    C: "what",
    D: "those",
    correct: "A",
  },
  {
    question: "The shirt in the window was ______ expensive for me to buy.",
    A: "too",
    B: "such",
    C: "enough",
    D: "so",
    correct: "A",
  },
  {
    question: "He couldn't get back _____ his car. He had locked himself out.",
    A: "on",
    B: "into",
    C: "in",
    D: "to",
    correct: "B",
  },
  {
    question: "Every member in Nataly's class admires her ______.",
    A: "honesty",
    B: "dishonest",
    C: "dishonesty",
    D: "honest",
    correct: "A",
  },
  {
    question: "John never comes to class on time and ______.",
    A: "neither does Peter",
    B: "so does Peter",
    C: "so doesn't Peter",
    D: "neither doesn't Peter",
    correct: "A",
  },
  {
    question: "If I were in charge, I ______ things differently.",
    A: "will do",
    B: "would do",
    C: "would have done",
    D: "had done",
    correct: "B",
  },
  {
    question: "Janet has left home and is ______ of her parents.",
    A: "dependent",
    B: "dependently",
    C: "independent",
    D: "depend",
    correct: "C",
  },
  {
    question: " He is going to get married ______ the end of this month.",
    A: "on",
    B: "in",
    C: "to",
    D: "at",
    correct: "D",
  },
  

]
let d=[

  {
    question: "Những câu tục ngữ đồng nghĩa là những câu tục ngữ như thế nào ",
    A: "Có ý nghĩa gần giống nhau",
    B: "Có ý nghĩa trái ngược nhau",
    C: "Có ý nghĩa hoàn toàn giống nhau",
    D: "Có ý nghĩa mâu thuẫn với nhau.",
    correct: "C",
  },
  {
    question: "Dòng nào không phải là đặc điểm về hình thức của câu tục ngữ",
    A: "Ngắn gọn.",
    B: "Thường có vần, nhất là vần chân",
    C: "Các vế thường đối xứng nhau cả về hình thức và nội dung",
    D: "Lập luận chặt chẽ giàu hình ảnh.",
    correct: "D",
  },
  {
    question: "Tục ngữ về con người và xã hội được hiểu theo những nghĩa nào",
    A: "Cả nghĩa đen và nghĩa bóng.",
    B: "Chỉ hiểu theo nghĩa đen.",
    C: "Chỉ hiểu theo nghĩa bóng.",
    D: "Cả A,B,C đều sai.",
    correct: "A",
  },
  {
    question: "Đối tượng phản ánh của tục ngữ về con người và xã hội là gì",
    A: "Là các quy luật của tự nhiên",
    B: "Là quá trình lao động, sinh hoạt và sản xuất của con người.",
    C: "Là con người với các mối quan hệ và những phẩm chất, lối sống cần phải có.",
    D: "Là thế giới tình cảm phong phú của con người.",
    correct: "C",
  },
  {
    question: "Trong các câu tục ngữ sau, câu nào có ý nghĩa trái ngược với câu “ Uống nước nhớ nguồn”",
    A: "ăn quả nhớ kẻ trồng cây",
    B: "Uống nước nhớ kẻ đào giếng",
    C: "ăn cháo đá bát",
    D: "ăn gạo nhớ kẻ đâm xay giần sàng",
    correct: "C",
  },
  {
    question: "Nội dung nào không có trong nghĩa của câu tục ngữ “ Học thầy không tày học bạn”",
    A: "Đề cao ý nghĩa, vai trò của việc học bạn",
    B: "Khuyến khích mở rộng phạm vi và đối tượng học hỏi",
    C: "Không coi học bạn quan trọng hơn học thầy",
    D: "Không coi trọng việc học thầy hơn học bạn.",
    correct: "D",
  },
  {
    question: "ý nghĩa nào đúng nhất có trong câu tục ngữ “ Không thầy đố mày làm nên”",
    A: "ý nghĩa khuyên nhủ",
    B: "ý nghĩa phê phán",
    C: "ý nghĩa thách đố",
    D: "ý nghĩa ca ngợi",
    correct: "D",
  },
  

]
let e=[
{
    question: "Nguyên thủ những nước nào sau đây tham dự Hội nghị Ianta (2/1945)",
    A: "Anh, Pháp, Mĩ.",
    B: "Anh, Mĩ, Liên Xô.",
    C: "Anh, Pháp, Đức.",
    D: "Mĩ, Liên Xô, Trung Quốc.",
    correct: "B",
  },
  {
    question: "Theo quyết định của Hội nghị Ianta (2/1945), khu vực nào dưới đây thuộc phạm vi ảnh hưởng của Liên Xô",
    A: "Đông Âu",
    B: "Tây Âu",
    C: "Đông Nam Á",
    D: "Tây Đức",
    correct: "A",
  },
  {
    question: "Hội nghị Ianta (2/1945) đã họp ở đâu",
    A: "Anh",
    B: "Pháp",
    C: "Thụy Sĩ ",
    D: "Liên Xô",
    correct: "D",
  },
  {
    question: "Có bao nhiêu quốc gia tham gia sáng lập tổ chức Liên hợp quốc",
    A: "35",
    B: "48",
    C: "50",
    D: "55",
    correct: "C",
  },
  {
    question: "Hiến chương Liên hợp quốc được thông qua tại Hội nghị nào",
    A: "Hội nghị Ianta (1945)",
    B: "Hội nghị Xan Phranxixcô (1946)",
    C: "Hội nghị Pốtxđam (1946).",
    D: "Hội nghị Pari (1973).",
    correct: "B",
  },
  {
    question: "Nguyên tắc nhất trí giữa năm nước lớn trong tổ chức Liên hợp quốc được đề ra vào thời điểm nào ?",
    A: "Tại Hội nghị Tê-hê-ran (1943).",
    B: "Tại Hội nghị Xan Phran-xi-xcô (Tháng 4 - 6/1945).",
    C: "Tại Hội nghị I-an-ta (tháng 2/1945).",
    D: "Tại Hội nghị Pốt-xđam (tháng 7/1945).",
    correct: "B",
  },
  {
    question: "Ai là người đặt tên nước ta là Vạn Xuân",
    A: "Lí Bạch",
    B: "Ngô Quyền",
    C: "Lý Bí",
    D: "Lý Công Uẩn",
    correct: "C",
  },
  {
    question: "Có bao nhiêu đời vua vào thời Lý",
    A: "1",
    B: "12",
    C: "9",
    D: "8",
    correct: "C",
  },
  {
    question: "Đâu là 1 tên khác của Trần Quốc Tuấn",
    A: "Trần Hưng Đạo",
    B: "Trần Quốc Toản",
    C: "Trần Khánh Dư",
    D: "Trần Nhật Duật",
    correct: "A",
  },
  {
    question: "Ai là người đánh đuổi quân Thanh",
    A: "Nguyễn Nhạc",
    B: "Nguyễn Lữ",
    C: "Nguyễn Trãi",
    D: "Nguyễn Huệ",
    correct: "D",
  },
  

]
let f = [
{
  question: "Hoàng Sa thuộc quốc gia nào",
  A: "Hoa Kỳ",
  B: "Việt Nam",
  C: "Trung Quốc",
  D: "Nga",
  correct: "B",
},
{
  question: "1 + 1= ",
  A: "4",
  B: "7",
  C: "2",
  D: "Không có đáp án ở trên.",
  correct: "C",
},
{
  question: "Từ Sơn thuộc tỉnh nào ",
  A: "Bắc Ninh",
  B: "Quảng Ninh",
  C: "Tây Ninh",
  D: "Bắc Giang",
  correct: "A",
},
{
  question: "Vịnh Hạ Long thuộc tỉnh nào",
  A: "Hà Nam",
  B: "Quảng Ninh",
  C: "Tây Ninh",
  D: "Bắc Giang",
  correct: "B",
},
{
  question:
    "Tổng thống Vladimir Vladimirovich Putin là tông thống quốc gia nào",
  A: "Nga",
  B: "Mông Cổ",
  C: "Thái Lan",
  D: "Trung Quốc",
  correct: "A",
},
{
  question: "Bài hát 'Chúng ta của hiện tại' là của ca sĩ nào ",
  A: "Noo Phước Thịnh",
  B: "Minh Vương M4U",
  C: "J97",
  D: "Sơn Tùng M-TP",
  correct: "D",
},
{
  question: "Ronaldo là cầu thủ của quốc gia nào",
  A: "Anh",
  B: "Đức",
  C: "Bồ Đào Nha",
  D: "Brazil",
  correct: "C",
},
{
  question: "Giải đấu bóng đá nào khắc nghiệt nhất hành tinh  ",
  A: "Premier League ",
  B: "La Liga",
  C: "Busdesliga",
  D: "Lique 1",
  correct: "A",
},
{
  question: "Vị vua cuối cùng của Việt Nam là ai",
  A: "Bảo Đại",
  B: "Lê Lợi",
  C: "Lý Thái Tổ",
  D: "Nguyễn Trãi",
  correct: "A",
},
{
  question: "Ngày Quốc Khánh Việt Nam là ngày nào",
  A: "4/5/2000",
  B: "30/4/1975",
  C: "2/9/1945",
  D: "19/4/1968",
  correct: "C",
},
];
let g=[
{
    question: "Sơn Tùng là nghệ sỹ thuộc lĩnh vực gì",
    A: "Hài Kịch",
    B: "Ca Nhạc",
    C: "Chèo",
    D: "Diễn viên",
    correct: "B",
  },
  {
    question: "Bài hát 'Em của ngày hôm qua' của ca sỹ nào",
    A: "J97",
    B: "Sơn Tùng",
    C: "Noo Phước Thịnh",
    D: "Đông Nhi",
    correct: "B",
  },
  {
    question: "Hiền Hồ nổi tiếng bị phốt gì",
    A: "Tình cảm",
    B: "Công Việc",
    C: "Ngoại hình",
    D: "Chiếm đoạt tài sản",
    correct: "A",
  },
  {
    question: "MC 'Rap Việt' là ai",
    A: "Trấn Thành",
    B: "Ông Cao Thắng",
    C: "Ngô Kiến Huy",
    D: "Sơn Tùng",
    correct: "A",
  },
  {
    question: "MC ''Ai là triệu phú' là ai",
    A: "Trấn Thành",
    B: "Ông Cao Thắng",
    C: "Lại Văn Sâm",
    D: "Sơn Tùng",
    correct: "C",
  },
  {
    question: "Hoài Linh nổi tiếng bị phốt gì",
    A: "Tình cảm",
    B: "Công Việc",
    C: "Ngoại hình",
    D: "Chiếm đoạt tài sản",
    correct: "D",
  },
  {
    question: "MC Phan Anh nổi tiếng bị phốt gì",
    A: "Tình cảm",
    B: "Công Việc",
    C: "Ngoại hình",
    D: "Chiếm đoạt tài sản",
    correct: "D",
  },
  {
    question: "Big-Bang là nhóm nhạc nổi tiếng của nước nào",
    A: "Pháp",
    B: "Trung Quốc",
    C: "Hàn Quốc",
    D: "Nhật",
    correct: "C",
  },
  {
    question: "One Direction là nhóm nhạc nổi tiếng của nước nào",
    A: "Pháp",
    B: "Trung Quốc",
    C: "Hàn Quốc",
    D: "Anh-Ireland",
    correct: "D",
  },
  {
    question: "'Gangnam Style' của ca sĩ nào",
    A: "Psy",
    B: "Binz",
    C: "Mỹ Tâm",
    D: "Nick Jonas",
    correct: "A",
  },
  

]
let h=[

  {
    question: "Nhà văn Kim Dung (Trung Quốc) nổi tiếng với thể loại văn học gì",
    A: "Truyện trinh thám",
    B: "Tiểu thuyết kiếm hiệp",
    C: "Sử thi",
    D: "Thơ lãng mạn",
    correct: "B",
  },
  {
    question: "Bộ phim 'Chị Dậu' được chuyển thể từ tác phẩm nào",
    A: "Người mẹ cầm súng",
    B: "Vợ chồng A Phủ",
    C: "Tắt đèn",
    D: "Tuổi thơ dữ dội",
    correct: "C",
  },
  {
    question: "Nhạc sĩ nào là người phổ nhạc ca khúc 'Cây đàn sinh viên'",
    A: "Bảo Chấn",
    B: "Quốc An",
    C: "Trịnh Công Sơn",
    D: "Trần Tiến",
    correct: "B",
  },
  {
    question: "Đâu là tên một loại chợ",
    A: "Ếch",
    B: "Nhái",
    C: "Thằn lằn",
    D: "Cóc",
    correct: "D",
  },
  {
    question: "Đâu là tên một bãi biển đẹp ở Quảng Bình",
    A: "Đá Lăn",
    B: "Đá Chạy",
    C: "Đá Nhảy",
    D: "Đá Bò",
    correct: "C",
  },
  {
    question: "Thơ Hai-cư là thể thơ truyền thống của nước nào",
    A: "Hàn Quốc",
    B: "Mông Cổ",
    C: "Nhật Bản",
    D: "Triều Tiên",
    correct: "C",
  },
  {
    question: "Chiến trường Đắk Tô - Tân Cảnh, nơi diễn ra chiến thắng vang đội năm 1972, nay thuộc địa bàn tỉnh nào ở Tây Nguyên",
    A: "Kon Tum",
    B: "Đắk Lắk",
    C: "Gia Lai",
    D: "Đắk Nông",
    correct: "A",
  },
  

]
let i=[
{
    question: "Cho tới thời điểm hiện nay, vườn quốc gia nào của nước ta chưa được công nhận là Vườn Di sản ASEAN",
    A: "Vườn quốc gia Kon Ka Kinh",
    B: "Vườn quốc gia Tam Đảo",
    C: "Vườn quốc gia Chư Mom Ray",
    D: "Vườn quốc gia Bái Tử Long",
    correct: "B",
  },
  {
    question: "Hoa hậu Hòa bình Quốc tế 2017 dự kiến sẽ được tổ chức tại quốc gia nào",
    A: "Thái Lan",
    B: "Việt Nam",
    C: "Việt Nam",
    D: "Campuchia",
    correct: "B",
  },
  {
    question: "Đâu không phải là một tác phẩm của họa sĩ Trần Văn Cẩn",
    A: "Đôi bạn",
    B: "Mẹ tôi",
    C: "Em Thúy",
    D: "Em gái tôi",
    correct: "A",
  },
  {
    question: "Tượng đài Chiến thắng Điện Biên Phủ tại chiến trường xưa được dựng trên ngọn đồi nào",
    A: "Đồi Him Lam",
    B: "Đồi A1",
    C: "Đồi C1",
    D: "Đồi D1",
    correct: "D",
  },
  {
    question: "Đâu là tên một loại bánh nổi tiếng ở Huế",
    A: "Khoái",
    B: "Thích",
    C: "Sướng",
    D: "Vui",
    correct: "A",
  },
  {
    question: "Phạm Nhật Vượng quê ở đâu",
    A: "Hà Tĩnh",
    B: "Nghệ An",
    C: "Bắc Ninh",
    D: "Bắc Giang",
    correct: "A",
  },
  
  

]
let j=[
{
    question: "Tục ngữ là một thể loại của bộ phận văn học nào",
    A: "Văn học dân gian",
    B: "Văn học viết",
    C: "Văn học thời kì kháng chiến chống Pháp",
    D: "Văn học thời kì kháng chiến chống Mĩ.",
    correct: "A",
  },
  {
    question: "Câu nào sau đây không phải là tục ngữ ",
    A: "Khoai đất lạ, mạ đất quen",
    B: "Chớp đông nhay nháy, gà gáy thì mưa",
    C: "Một nắng hai sương",
    D: "Thứ nhất cày ải, thứ nhì vãi phân",
    correct: "C",
  },
  {
    question: "Câu “Chuồn chuồn bay thấp thì mưa. Bay cao thì nắng bay vừa thì râm” thuộc thể loại văn học dân gian nào",
    A: "Thành ngữ",
    B: "Tục ngữ",
    C: "Ca dao ",
    D: "Vè",
    correct: "B",
  },
  {
    question: "Huyền thoại nào dưới đây chơi cho MU",
    A: "Paolo Maldini",
    B: "Steven Gerrard",
    C: "Ryan Giggs",
    D: "Iker Casillas",
    correct: "C",
  },
  {
    question: "Tính tới ngày 30/4/2022 , cầu thủ nào có phí chuyển nhượng kỷ lục",
    A: "Neymar JR",
    B: "Messi",
    C: "Cristiano Ronaldo",
    D: "Mohamed Salah",
    correct: "A",
  },
  {
    question: "Đội bóng nào có biệt danh 'kền kền trắng'",
    A: "Man City",
    B: "MU",
    C: "Barcalona",
    D: "Real Madrid",
    correct: "D",
  },
  {
    question: "An Dương Vương đặt quốc hiệu nước ta là gì",
    A: "Âu Lạc",
    B: "Vạn Xuân",
    C: "Đạt Cồ Việt",
    D: "Đại Việt",
    correct: "A",
  },
  {
    question: "Năm 1010,Lý Thái Tổ đã cho xây dựng điện nào ở trung tâm Hoành thành Thăng Long",
    A: "Điện Kính Thiên",
    B: "Điện Càn Nguyên",
    C: "Điện Càn Chánh",
    D: "Điện Càn Thánh",
    correct: "B",
  },
  {
    question: "'Điêu tàn' là tập thơ đầu tiên của nhà thơ nào",
    A: "Anh Thơ",
    B: "Thế Lữ",
    C: "Bích Khê",
    D: "Chế Lan Viên",
    correct: "B",
  },

]
let listNoticeCorrect =['Hình như câu hỏi này quá dễ với bạn !!',
'Ồ ,bạn đã làm đúng câu này',
'Bạn thông minh như Albert Einstein !'
];
let listNoticeWrong =['Đừng buồn, bạn đã học được thêm 1 kiến thức mới',
'Thất bại là mẹ thành công, đừng bỏ cuộc',
'Đừng tiếc, tôi nghĩ nhiều người không làm được câu này'
]
let listNoSelected =['Rất tiếc bạn đã không làm câu này :((',
'Câu này dễ mà, sao bạn không làm !!',
'Bạn đã không làm câu này. Hãy thử chọn đáp án biết đâu bạn may mắn !!'
]
let map = new Map(); // khai báo map, lưu đáp án của người dùng
let curentIndex = 0; //chỉ số hiện tại câu hỏi
let questionNumber = document.querySelector(".question-heading span");
let questionContent = document.querySelector(".question-content");
let notice = document.querySelector(".notice");
let noticeCorrect = document.querySelector(".notice-correct");
let answerItem = document.querySelectorAll(".answer-item");
let answerItemIcon = document.querySelectorAll(".answer-item i");
let answersRadio = document.querySelectorAll(".answer-select input"); //radio ánwer
let answersLabel = document.querySelectorAll(".answer-content label"); //nội dung đáp án
let btnPrevious = document.querySelector(".btn-previous"); //nút câu hỏi trước
let btnNext = document.querySelector(".btn-next"); //nút câu hỏi tiếp theo
let btnSubmit = document.querySelector(".btn-submit"); //nút sumit
let modal = document.querySelector(".modal"); //modal
let opacity = document.querySelector(".opacity"); // tạo 1 lớp mờ
let btnReview = document.querySelector(".btn-review"); //nút close trong modal
let result = document.querySelector(".result span"); //kết quả của bài thi
let listQuestionRadio = document.querySelector(".list-question-checkbox"); //list question radio
let btnReload = document.querySelector(".btn-reload"); //btn làm lại
let checkSubmit=false;  //kiểm tra nhấn nút sumit
let data=[];
const getDataQuestion=()=>{
  let nameArr=[a,b,c,d,e,f,g,h,i,j];
for (let i=0; i<nameArr.length; i++){
  let itemIndex=Math.floor(Math.random() * nameArr[i].length);
    data.push(nameArr[i][itemIndex]);
}
}
getDataQuestion();
answersRadio.forEach((ans) => {
  ans.addEventListener("click", function (e) {
    document
      .querySelector(`.${e.target.id}`)
      .classList.add("select-answer-item");
    resetCheck(e.target.id);
    map.set(curentIndex, e.target.id);
    renderQuestionMark(); 
  });
});




const loadIconItem = (icon,classIcon,itemAnswer)=>{
  document.querySelector(`#item-${itemAnswer} i`).classList.add(icon);
  document.querySelector(`#item-${itemAnswer} i`).classList.add(classIcon);
}
const resetItemIcon=()=>{
  answerItemIcon.forEach((element)=>{
    element.classList.remove('fa-check');
    element.classList.remove('fa-times');
    element.classList.remove('correct-icon');
    element.classList.remove('wrong-icon');
  })
}
const loadQuestion = (curentIndex) => {
  if (curentIndex + 1 > data.length) {
    btnNext.style.disable = true;
    alert(
      "Đây là câu hỏi cuối cùng bạn .Hãy kiểm tra trước khi nhấn nút Submit bên dưới"
    );
    return;
  }
  if (curentIndex + 1 < 0) {
    alert("Đây là câu hỏi đầu tiên. Hãy tiếp tục làm bài");
    return;
  }
  questionNumber.innerText = curentIndex + 1;
  questionContent.innerText = data[curentIndex].question + " ?";
  answersLabel[0].innerText = data[curentIndex].A;
  answersLabel[1].innerText = data[curentIndex].B;
  answersLabel[2].innerText = data[curentIndex].C;
  answersLabel[3].innerText = data[curentIndex].D;

  resetItemIcon();
  if(checkSubmit==true){
    let indexNotice=Math.floor(Math.random() * 3);
    if(map.get(curentIndex)==undefined){     //nguời dùng chưa chọn câu hỏi
      notice.innerText=listNoSelected[indexNotice];
      notice.style.color = 'red'
      noticeCorrect.innerText=`(Đáp án đúng câu này là ${data[curentIndex].correct})`;
      return;
    }
  if (map.get(curentIndex).toUpperCase() === data[curentIndex].correct){  //nguời dùng làm đúng
    notice.innerText=listNoticeCorrect[indexNotice];
    notice.style.color = 'green'
    loadIconItem('fa-check','correct-icon',map.get(curentIndex));
     
  }
  else {                       ////nguời dùng làm sai
    notice.innerText=listNoticeWrong[indexNotice];
    notice.style.color = 'red'
    noticeCorrect.innerText=`(Đáp án đúng câu này là ${data[curentIndex].correct})`;
    loadIconItem('fa-times','wrong-icon',map.get(curentIndex));
    loadIconItem('fa-check','correct-icon',data[curentIndex].correct.toLowerCase());


  }
  noticeCorrect.style.color = 'green'
  }
};
const resetCheck = (value) => {
  let listAnswer = ["a", "b", "c", "d"];
  listAnswer.forEach((answer, key) => {
    if (answer === value) {
      listAnswer.splice(key, 1);
    }
  });
  listAnswer.forEach((answer, key) => {
    document.querySelector(`.${answer}`).classList.remove("select-answer-item");

    document.getElementById(`${answer}`).checked = false;
  });
};
const resetChecked = (curentIndex) => {
  if (map.get(curentIndex) === undefined) {
    resetCheck();
    return;
  }
  resetCheck();
  document.getElementById(map.get(curentIndex)).checked = true;
  document
    .querySelector(`.${map.get(curentIndex)}`)
    .classList.add("select-answer-item");
};
const keepChecked = (curentIndex) => {
  if (map.get(curentIndex) === undefined) {
    resetCheck();
    return;
  }
  resetCheck();
  document.getElementById(map.get(curentIndex)).checked = true;
  document
    .querySelector(`.${map.get(curentIndex)}`)
    .classList.add("select-answer-item");
};
const renderQuestionMark = () => {
  let innerListQuestion = "";
  data.map((element, key) => {
    innerListQuestion =
      innerListQuestion +
      `<p class="item-question item-question-${key}" >${
        key + 1
      }<span id='checked-${key}'></span></p>`;
  });
  listQuestionRadio.innerHTML = innerListQuestion;
  for (let i = 0; i < data.length; i++) {
    if (map.get(i) === undefined) {
      document.getElementById(`checked-${i}`).classList.remove("checked");
    } else {
      document.getElementById(`checked-${i}`).classList.add("checked");
    }
  }
  data.forEach((element, key) => {
    document
      .querySelector(`.item-question-${key}`)
      .addEventListener("click", function () {
        loadQuestion(key);
        curentIndex = key;
        keepChecked(key );
      });
  });
};
const subString = (string) => {
  return string.substring(string.length - 1);
};




loadQuestion(0);
renderQuestionMark();

answerItem.forEach((element, index) => {
  element.addEventListener("click", function (e) {
    this.classList.add("select-answer-item");
    resetCheck(subString(e.target.id));
    try {
      document.getElementById(subString(e.target.id)).checked = true;
    } catch (error) {}
    map.set(curentIndex, subString(e.target.id));

    renderQuestionMark();
  });
});
btnNext.addEventListener("click", function () {
  curentIndex = curentIndex + 1;
  loadQuestion(curentIndex);
  keepChecked(curentIndex);
});
btnPrevious.addEventListener("click", function () {
  curentIndex = curentIndex - 1;
  loadQuestion(curentIndex);
  keepChecked(curentIndex);
});

btnSubmit.addEventListener("click", function () {
  checkSubmit=true;
  let numberCorrect = 0;
  for (let i = 0; i < data.length; i++) {
    if (map.get(i) == undefined) {
      continue;
    }
    if (map.get(i).toUpperCase() === data[i].correct) {
      numberCorrect = numberCorrect + 1;
    }
  }
  let score = (10 / data.length) * numberCorrect;
  modal.classList.add("show");
  opacity.classList.add("show");
  var scoreRound = Number.isInteger(score) ? score : score.toFixed(2);
  result.innerText = scoreRound;
});


btnReview.addEventListener("click", function () {
  modal.classList.remove("show");
  opacity.classList.remove("show");
answerItem.forEach((element, index) => {
  element.classList.add('event-none');
})
btnSubmit.classList.add("hide")
btnReload.classList.add("show")
loadQuestion(curentIndex);

});


btnReload.addEventListener("click", function() {
  location.reload();
})